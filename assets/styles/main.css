/* Core fonts */
@font-face { font-family: 'RAMI'; src: url('../fonts/RAMI.woff2') format('woff2'); font-display: block; }
@font-face { font-family: 'GENSCO'; src: url('../fonts/GENSCO.woff2') format('woff2'); font-display: swap; }

html, body { min-height: 100%; }

body { margin:0; overflow:hidden; background:#f5f1e8 url('../images/background.png') center / cover no-repeat fixed; font-family:'RAMI'; color:#fff; }
body.cursor-hidden { cursor:none; }

 

/* Mobile background behavior for smoother scrolling */
@media (max-width:768px){
  body{ background-attachment: scroll; background-position: center top; background-size: cover; background-repeat: no-repeat; }
  /* Ensure background fills viewport even with dynamic browser chrome */
  body::before{
    content:'';
    position:fixed;
    inset:0;
    z-index:-1;
    background: inherit;
    pointer-events:none;
  }
}

/* Animated custom cursor (8 frames 64x64) */
#custom-cursor { position:fixed; left:0; top:0; width:64px; height:64px; pointer-events:none; z-index:10000; display:none; /* hidden until JS activates */
  background:url('../cursors/cursor1.png') center/contain no-repeat; image-rendering:crisp-edges; mix-blend-mode:normal; transition:opacity .2s; }
#custom-cursor.animating { display:block; }
@media (prefers-reduced-motion: reduce){ #custom-cursor { animation:none; } }

/* Removed custom image cursor */

#unity-container { position:absolute; inset:0; width:100vw; height:100vh; display:flex; justify-content:center; align-items:center; background:#000; z-index:100; }
#unity-canvas { width:100vw; height:100vh; display:block; background:#000; touch-action:none; }
#unity-loading { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); color:#fff; font-size:4em; z-index:200; text-align:center; }

#fade-overlay { position:fixed; inset:0; background:transparent; z-index:1000; opacity:1; transition:opacity 2s ease-in-out; display:flex; justify-content:center; align-items:center; color:transparent; pointer-events:none; }

#portfolio-content { display:none; position:absolute; inset:0; width:100vw; height:100vh; z-index:10; background:transparent; background-size:cover; }
#artwork-display { position:absolute; inset:0; display:flex; justify-content:center; align-items:center; z-index:20; }
#artwork-media { max-width:60vw; max-height:70vh; object-fit:contain; transition:opacity .3s ease; will-change:opacity,transform; }

/* Glitch vanish / spawn (performance-friendly: opacity + transform only) */
@keyframes glitch-out {
  0% { opacity:1; transform:translate3d(0,0,0) scale(1); filter:none; }
  15% { transform:translate3d(-4px,2px,0) scale(.98); }
  30% { transform:translate3d(6px,-3px,0) scale(1.02); opacity:.85; }
  45% { transform:translate3d(-3px,1px,0) scale(.97); opacity:.65; }
  60% { transform:translate3d(5px,-2px,0) scale(1.03); opacity:.4; }
  75% { transform:translate3d(-2px,2px,0) scale(.92); opacity:.2; }
  100% { opacity:0; transform:translate3d(0,0,0) scale(.9); }
}
@keyframes glitch-in {
  0% { opacity:0; transform:translate3d(0,0,0) scale(1.08); }
  10% { opacity:.25; transform:translate3d(3px,-2px,0) scale(1.02); }
  20% { opacity:.55; transform:translate3d(-5px,3px,0) scale(1.04); }
  35% { opacity:.7; transform:translate3d(4px,-3px,0) scale(.98); }
  50% { opacity:.85; transform:translate3d(-2px,2px,0) scale(1.01); }
  65% { opacity:.9; transform:translate3d(1px,-1px,0) scale(.99); }
  80% { opacity:.97; transform:translate3d(-1px,1px,0) scale(1.005); }
  100% { opacity:1; transform:translate3d(0,0,0) scale(1); }
}
#artwork-media.wavy-out { animation:glitch-out .5s linear forwards; }
#artwork-media.wavy-in { animation:glitch-in .5s linear forwards; }

#portfolio-loading { position:fixed; inset:0; width:100vw; height:100vh; background:#000; z-index:1500; display:none; justify-content:center; align-items:center; opacity:1; transition:opacity 1s ease-out; }
#portfolio-loading.fade-out { opacity:0; }
#portfolio-loading-video { width:100vw; height:100vh; object-fit:cover; }

#artwork-title { position:fixed; bottom:72px; left:50%; transform:translateX(-50%); pointer-events:none; z-index:9999; font-size:33px; white-space:nowrap; opacity:1; color:#000000; font-family:'RAMI'; letter-spacing:12px; animation:title-breathe 6s ease-in-out infinite, title-spectrum 24s linear infinite; will-change:transform,color; text-shadow:0 0 6px rgba(255,0,0,0.25); }

/* Secondary meta (technique / dimensions) */
#artwork-meta { position:fixed; bottom:42px; left:50%; transform:translateX(-50%); pointer-events:none; z-index:9998; font-family:'GENSCO',sans-serif; font-size:15px; line-height:1.15; color:#49235e; opacity: 0.8; letter-spacing:0; white-space:nowrap; transition:opacity .25s ease; animation:meta-breathe 4s ease-in-out infinite; }
#artwork-meta.hidden { opacity:0; }

@keyframes meta-breathe {
  0%,100% { transform:translateX(-50%) scale(1); letter-spacing:0; }
  /* Subtle: less than title (title scale +0.019); here +0.009 and tiny spacing */
  50% { transform:translateX(-50%) scale(1.009); letter-spacing:0.3px; }
}
/* (moved hidden rule above with meta styles) */

@keyframes title-breathe {
  0%,100% { transform:translateX(-50%) scale(1); letter-spacing:10px; }
  /* Halved amplitude from previous values: scale 1.037 -> 1.019, letter-spacing 14px -> 6px */
  50% { transform:translateX(-50%) scale(1.019); letter-spacing:6px; }
}

@keyframes title-spectrum {
  0% { color:#ffffffe2; text-shadow:0 0 6px rgb(161, 61, 255); }
  20% { color:#f8ff72; text-shadow:0 0 7px rgb(243, 45, 45); }
  40% { color:#ffffff; text-shadow:0 0 6px rgb(56, 127, 249); }
  60% { color:#25ff03; text-shadow:0 0 8px rgb(16, 16, 231); }
  80% { color:#f5ff2e; text-shadow:0 0 6px rgb(255, 87, 87); }
  100% { color:#ffd093; text-shadow:0 0 6px rgb(102, 255, 0); }
}

#bottom-right-text { position:fixed; bottom:20px; right:20px; font-family:'GENSCO' !important; font-size:14px; color:#fff; opacity:.7; pointer-events:none; z-index:9998; text-align:right; line-height:1.2; }
#contact-button{position:fixed;top:0;left:0;z-index:10001;background:transparent;border:none;padding:0;margin:0;cursor:pointer;will-change:transform;}
#contact-button img{width:144px;height:144px;display:block;}
#contact-button .rotwrap{display:inline-block;animation:spin-360 12s linear infinite;}
#contact-button .squashwrap{display:inline-block;}
#contact-button .squashwrap.squash{animation:squash 160ms ease-out;}
#contact-button, #contact-button * { cursor: none !important; }
@keyframes spin-360{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}
@keyframes squash{0%{transform:scale(1);}50%{transform:scaleX(0.9) scaleY(1.1);}100%{transform:scale(1);}}
@keyframes contact-slide{
  0%{ transform:translateX(calc(-50% - 45vw)); }
  100%{ transform:translateX(calc(-50% + 45vw)); }
}
#contact-popover{position:fixed;top:60px;left:50%;transform:translateX(-50%);z-index:10001;max-width:min(90vw,420px);padding:10px 12px;border-radius:8px;background:rgba(51,40,137,0.6);color:#fff;font-family:'GENSCO',sans-serif;font-size:13px;line-height:1.25;box-shadow:0 4px 18px rgba(0,0,0,0.25);backdrop-filter:saturate(1.2) blur(2px);display:none;overflow:hidden;}
#contact-popover,#contact-form-popover{font-family:'GENSCO',sans-serif;}
#open-contact-form{font-family:'GENSCO',sans-serif;font-size:14px;letter-spacing:0.5px;padding:6px 10px;border-radius:6px;border:1px solid #5c6de8;background:#6b7aff;color:#fff;cursor:none !important;transition:filter .15s ease, border-color .15s ease, box-shadow .15s ease;}
#open-contact-form:hover,#open-contact-form:focus{filter:brightness(1.12);border-color:#7f8bff;box-shadow:0 0 0 3px rgba(107,122,255,0.25);} 
#contact-form-popover{position:fixed;top:60px;left:50%;transform:translateX(-50%);z-index:10001;width:min(90vw,294px);box-sizing:border-box;padding:14px 16px;border-radius:10px;background:rgba(51,40,137,0.675);color:#fff;font-size:14px;line-height:1.35;box-shadow:0 6px 22px rgba(0,0,0,0.28);backdrop-filter:saturate(1.2) blur(3px);display:none;overflow:hidden;}
#contact-form-popover form{display:flex;flex-direction:column;gap:10px;}
#contact-form-popover input,#contact-form-popover textarea{width:100%;max-width:100%;box-sizing:border-box;display:block;padding:8px 10px;border-radius:6px;border:1px solid rgba(255,255,255,0.35);background:rgba(255,255,255,0.10);color:#fff;font-family:'GENSCO',sans-serif;transition:filter .15s ease, border-color .15s ease, box-shadow .15s ease, background-color .15s ease;}
#contact-form-popover input:hover,#contact-form-popover input:focus,#contact-form-popover textarea:hover,#contact-form-popover textarea:focus{filter:brightness(1.12);border-color:rgba(255,255,255,0.7);background:rgba(255,255,255,0.14);box-shadow:0 0 0 3px rgba(255,255,255,0.18);outline:none;}
#contact-form-popover .form-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:4px;}
#contact-form-popover button{border:1px solid rgba(255,255,255,0.35);background:transparent;color:#fff;padding:6px 10px;border-radius:6px;cursor:none !important;font-family:'GENSCO',sans-serif;transition:filter .15s ease, border-color .15s ease, box-shadow .15s ease;}
#contact-form-popover button:hover,#contact-form-popover button:focus{filter:brightness(1.12);border-color:rgba(48, 58, 195, 0.6);box-shadow:0 0 0 3px rgba(255,255,255,0.2);outline:none;}
#contact-popover, #contact-popover * , #contact-form-popover, #contact-form-popover * { cursor: none !important; }
#contact-form-status{min-height:18px;font-size:12px;opacity:.85;margin-top:4px;}

/* Mobile-friendly sizing and anchoring */
@media (max-width:480px){
  #contact-button{top:0;left:0;transform:none;} 
  #contact-button img{width:120px;height:120px;}
  #contact-popover{top:52px;max-width:min(94vw,420px);font-size:12px;padding:8px 10px;}
  #open-contact-form{font-size:13px;padding:6px 9px;}
  #contact-form-popover{top:52px;width:min(94vw,460px);padding:12px 14px;font-size:13px;}
  #contact-form-popover input,#contact-form-popover textarea{font-size:13px;}
}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;}
#mobile-touch-area { position:fixed; inset:0; z-index:25; background:transparent; display:none; touch-action:manipulation; -webkit-user-select:none; user-select:none; }
#portfolio-content.active #mobile-touch-area { display:block; }

/* Removed tap/click instruction styles */

/* Responsive adjustments */
@media (max-width:768px){
  #artwork-media{max-width:100vw!important;max-height:100vh!important;width:100vw;height:100vh;object-fit:contain;object-position:center;position:absolute;inset:0;}
  /* Ensure centered text containers on mobile */
  #artwork-title,#artwork-meta{left:0!important; right:0; width:100vw; transform:none!important; text-align:center;}
  #artwork-title{font-size:18px;bottom:68px;}
  #artwork-meta{font-size:12px;bottom:34px;}
  #bottom-right-text{font-size:12px;bottom:15px;right:15px;}
  /* Removed tap/click responsive adjustments */
  #portfolio-loading-video{width:100vw!important;height:100vh!important;object-fit:cover;object-position:center;position:absolute;inset:0;}
  /* Reserve vertical space for captions so they don't overlap tall images */
  :root { --text-zone: 140px; }
  #artwork-display{height:100vh; padding-bottom:calc(var(--text-zone) + env(safe-area-inset-bottom)); box-sizing:border-box;}
  /* Constrain media height to leave space for text zone */
  #artwork-media{max-height:calc(100vh - var(--text-zone) - env(safe-area-inset-bottom)); position:relative; inset:auto;}
  /* Adjust title/meta bottoms relative to safe area */
  #artwork-title{bottom:calc(70px + env(safe-area-inset-bottom));}
  #artwork-meta{bottom:calc(36px + env(safe-area-inset-bottom));}
}
@media (max-width:480px){
  #artwork-title,#artwork-meta{left:0!important; right:0; width:100vw; transform:none!important; text-align:center;}
  #artwork-title{font-size:16px;bottom:calc(58px + env(safe-area-inset-bottom));}
  #artwork-meta{font-size:11px;bottom:calc(28px + env(safe-area-inset-bottom));}
  #bottom-right-text{font-size:10px;bottom:10px;right:10px;}
  /* Removed tap/click responsive adjustments */
}
@media (max-width:768px) and (orientation:landscape){ 
  :root { --text-zone: 110px; }
  #artwork-title,#artwork-meta{left:0!important; right:0; width:100vw; transform:none!important; text-align:center;}
  #artwork-title{bottom:calc(50px + env(safe-area-inset-bottom));font-size:16px;}
  #artwork-meta{bottom:calc(24px + env(safe-area-inset-bottom));}
  #artwork-media{max-height:calc(100vh - var(--text-zone) - env(safe-area-inset-bottom));}
}
@media (max-width:768px) and (orientation:portrait){ 
  :root { --text-zone: 150px; }
  #artwork-title,#artwork-meta{left:0!important; right:0; width:100vw; transform:none!important; text-align:center;}
  #artwork-title{bottom:calc(72px + env(safe-area-inset-bottom));font-size:17px;}
  #artwork-meta{bottom:calc(34px + env(safe-area-inset-bottom));}
  #artwork-media{max-height:calc(100vh - var(--text-zone) - env(safe-area-inset-bottom));}
}
